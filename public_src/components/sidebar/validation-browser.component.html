<div class="panel-group">
  <div class="panel panel-heading panel-default">
    <ng-container *ngIf="!(errorCorrectionMode$ | async) ||(errorCorrectionMode$ | async) === 'menu' ">
      <p> {{'Zoom into the area where you want to run the validation.' | translate}}</p>
      <button class="btn btn-default" (click)="startValidation()"> {{'Find Errors' | translate }}</button>
    </ng-container>
    <ng-container *ngIf="(switchMode$ | async)">
      <button class="btn btn-default" type="submit" id='prevLoc' (click)="previousLocation()"><i
        class="fa fa-arrow-left" aria-hidden="true"></i></button>
      <button class="btn btn-default" type="submit" id='nextLoc' (click)="nextLocation()"><i class="fa fa-arrow-right"
                                                                                             aria-hidden="true"></i>
      </button>
      <button class="btn btn-default pull-right" type="submit" id='quit' (click)="quit()">{{'Quit' | translate }}
      </button>
    </ng-container>
  </div>

  <div class="content panel panel-body panel-default scrollable-panel"
       *ngIf="(errorCorrectionMode$ | async) === 'menu' || (errorCorrectionMode$ | async) === 'missing name tag' || (errorCorrectionMode$ | async) === 'missing ref tag'">
    <ng-container *ngIf="(errorCorrectionMode$ | async) === 'menu'">
      <ul class="list-group">
        <li class="list-group-item" *ngIf="nameErrorsO"> {{nameErrorsO.length}} {{'missing name tags' | translate }}
          <button (click)="startNameCorrection()">{{'Start Correction' | translate }}</button>
        </li>
        <li class="list-group-item" *ngIf="refErrorsO"> {{refErrorsO.length}} {{'missing ref tags' | translate }}
          <button (click)="startRefCorrection()">{{'Start Correction' | translate }}</button>
        </li>
      </ul>
    </ng-container>

    <ng-container *ngIf="(errorCorrectionMode$ | async) === 'missing name tag'">
      <ul class="list-group">
        <ng-container *ngFor="let nameError of nameErrorsO; let i = index">
          <li (click)="jumpToLocation(i)" id='{{ nameError.stop.id }}' class="list-group-item"
              [style.background-color]="i===0 ? 'lightblue':'white'">
            {{i +1}}. {{getNodeType(nameError.stop)}}
            <i *ngIf="nameError.corrected === 'true'" class="fa fa-check pull-right" aria-hidden="true"></i>
            <i *ngIf="nameError.corrected === 'false'" class="fa fa-times pull-right" aria-hidden="true"></i>
          </li>
        </ng-container>
      </ul>
    </ng-container>

    <ng-container *ngIf="(errorCorrectionMode$ | async) === 'missing ref tag'">
      <ul class="list-group">
        <ng-container *ngFor="let refError of refErrorsO; let i = index">
          <li (click)="jumpToLocation(i)" id='{{ refError.stop.id }}' class="list-group-item"
              [style.background-color]="i===0 ? 'lightblue':'white'">
            {{i +1}}. {{getNodeType(refError.stop)}}
            <i *ngIf="refError.corrected === 'true'" class="fa fa-check pull-right" aria-hidden="true"></i>
            <i *ngIf="refError.corrected === 'false'" class="fa fa-times pull-right" aria-hidden="true"></i>
            <i *ngIf="refError.corrected === 'partial'" class="fa fa-question pull-right" aria-hidden="true"></i>
          </li>
        </ng-container>
      </ul>
    </ng-container>
  </div>
</div>
